<h1 ng-bind="tenderloin"></h1>

<p ng-show="opened">socket is open</p>

<form ng-if="!User.username" ng-submit="User.login(username, password)">
  <input placeholder="Username" ng-model="username">
  <input placeholder="Password" ng-model="password" type="password">
  <input value="Login" type="submit">
</form>

<h2 ng-if="User.username" ng-bind="User.username"></h2>
<p ng-show="!cur_turn">It is no one's turn right now.</p>
<p ng-show="cur_turn">It is {{cur_turn}}'s right now!</p>
<div ng-show="game">
  <h2>Game, id: {{game_id}}</h2>

  <div ng-show="discarded">
    <h3>Discarded</h3>
    <ul>
      <li
        ng-repeat="tile in discarded track by $index"
        title="{{tile.username}} discarded this shit"
        class="tile">{{tile.tile}}</li>
    </ul>
  </div>
  <div ng-show="hand">
    <h3>Hand</h3>
    <ul>
      <li
        ng-repeat="tile in hand track by $index"
        class="tile"
        ng-click="discard(tile)">{{tile}}</li>
    </ul>
  </div>
</div>

<form ng-submit="send(message)">
  <ol reversed>
    <li ng-repeat="msg in msgs">
      <strong>{{msg.username}}</strong>
      <span ng-if="msg.message">said: {{msg.message}}</span>
      <span ng-if="!msg.message">has: {{msg.type}}ed</span>
    </li>
  </ol>
  <input autofocus ng-model="message">
  <input type="submit" value="Send">
</form>
